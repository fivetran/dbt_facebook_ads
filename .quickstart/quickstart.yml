database_key: facebook_ads_database
schema_key: facebook_ads_schema

dbt_versions: ">=1.3.0 <3.0.0"

table_variables:
  facebook_ads__using_demographics_country:
    - demographics_country
    - demographics_country_actions
  facebook_ads__using_demographics_region:
    - demographics_region
    - demographics_region_actions

  _fivetran_quickstart_basic_ad_actions:
    - basic_ad_actions
  _fivetran_quickstart_basic_ad_action_values:
    - basic_ad_action_values
  _fivetran_quickstart_url_tag:
    - url_tag

destination_configurations:
  databricks:
    dispatch:
      - macro_namespace: dbt_utils
        search_order: [ 'spark_utils', 'dbt_utils' ]

public_models: [
  "facebook_ads__url_report",
  "facebook_ads__url_tags",
  "facebook_ads__campaign_report",
  "facebook_ads__account_report",
  "facebook_ads__ad_report",
  "facebook_ads__ad_set_report",
  "facebook_ads__country_report",
  "facebook_ads__region_report"
]

supported_vars:
  facebook_ads__conversion_action_types:
    type: dictionary
    value: "- name: onsite_conversion.purchase
- name: onsite_conversion.lead_grouped
- name: offsite_conversion.fb_pixel_purchase
- name: offsite_conversion.fb_pixel_lead
- name: offsite_conversion.fb_pixel_custom"
    description: "`action_type` values to be tracked as conversions"
    display_name: "Conversion Action Types"

  facebook_ads__basic_ad_passthrough_metrics:
    type: dictionary
    description: "Additional `BASIC_AD` report columns to include in `facebook_ads__account_report`, `facebook_ads__ad_report`, `facebook_ads__campaign_report`, `facebook_ads__ad_set_report`, and `facebook_ads__url_report`"
    display_name: "Additional `BASIC_AD` Metrics"

  facebook_ads__basic_ad_actions_passthrough_metrics:
    type: dictionary
    description: "Additional `BASIC_AD_ACTIONS` report columns to include in `facebook_ads__account_report`, `facebook_ads__ad_report`, `facebook_ads__campaign_report`, `facebook_ads__ad_set_report`, and `facebook_ads__url_report`"
    display_name: "Additional `BASIC_AD_ACTIONS` Conversion Metrics"

  facebook_ads__basic_ad_action_values_passthrough_metrics:
    type: dictionary
    description: "Additional `BASIC_AD_ACTION_VALUES` report columns to include in `facebook_ads__account_report`, `facebook_ads__ad_report`, `facebook_ads__campaign_report`, `facebook_ads__ad_set_report`, and `facebook_ads__url_report`"
    display_name: "Additional `BASIC_AD_ACTION_VALUES` Conversion Metrics"

  facebook_ads__demographics_country_passthrough_metrics:
    type: dictionary
    description: "Additional `DEMOGRAPHICS_COUNTRY` report columns to include in `facebook_ads__country_report`"
    display_name: "Additional `DEMOGRAPHICS_COUNTRY` Metrics"

  facebook_ads__demographics_country_actions_passthrough_metrics:
    type: dictionary
    description: "Additional `DEMOGRAPHICS_COUNTRY_ACTIONS` report columns to include in `facebook_ads__country_report`"
    display_name: "Additional `DEMOGRAPHICS_COUNTRY_ACTIONS` Conversion Metrics"

  facebook_ads__demographics_region_passthrough_metrics:
    type: dictionary
    description: "Additional `DEMOGRAPHICS_REGION` report columns to include in `facebook_ads__region_report`"
    display_name: "Additional `DEMOGRAPHICS_REGION` Metrics"

  facebook_ads__demographics_region_actions_passthrough_metrics:
    type: dictionary
    description: "Additional `DEMOGRAPHICS_REGION_ACTIONS` report columns to include in `facebook_ads__region_report`"
    display_name: "Additional `DEMOGRAPHICS_REGION_ACTIONS` Conversion Metrics"

